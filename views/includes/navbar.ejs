<body>
  <!-- Modern Navbar -->
  <nav class="navbar navbar-expand-lg sticky-top shadow-sm glass-nav">
    <div class="container-fluid">
      <!-- Logo -->
      <a class="navbar-brand fw-bold text-gradient" href="/">
        <img src="/images/logoo.png" height="60" width="90" alt="logo image">
      </a>

      <!-- Toggler -->
      <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Navbar Links -->
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav align-items-center gap-3">
          <li class="nav-item">
            <a class="nav-link nav-link-custom active" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-link-custom" href="/experiments-saved">Experiments</a>
          </li>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-link-custom" href="/about">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-link-custom" href="/contact">Contact</a>
          </li>

          <% if(!curr_user) { %>
          <li class="nav-item">
            <a class="toggle-btn signup-btn" href="/signup">Signup</a>
          </li>
          <li class="nav-item">
            <a class="toggle-btn login-btn" href="/login">Login</a>
          </li>
          <% } %>
          <% if(curr_user) { %>
          <li class="nav-item">
            <a class="btn btn-danger rounded-pill px-3" href="/logout">Logout</a>
          </li>
          <% } %>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Custom CSS -->
  <style>
    /* Glassmorphism Navbar */
    .glass-nav {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.3);
    }

    /* Gradient Text for Logo */
    .text-gradient {
      background: linear-gradient(90deg, #4f46e5, #06b6d4);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-weight: 700;
    }

    /* Navbar Links */
    .nav-link-custom {
      position: relative;
      font-weight: 500;
      color: #333 !important;
      transition: color 0.3s ease;
    }

    .nav-link-custom:hover {
      color: #4f46e5 !important;
    }

    .nav-link-custom::after {
      content: "";
      position: absolute;
      bottom: -3px;
      left: 0;
      width: 0;
      height: 2px;
      background: #4f46e5;
      transition: width 0.3s ease;
    }

    .nav-link-custom:hover::after {
      width: 100%;
    }

    /* === Signup & Login Toggle Buttons === */
    .toggle-btn {
      display: inline-block;
      padding: 8px 22px;
      border-radius: 25px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .toggle-btn::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      border-radius: 25px;
      background: linear-gradient(90deg, #4f46e5, #06b6d4);
      z-index: -1;
      transition: opacity 0.4s ease;
      opacity: 0;
    }

    /* Signup = OFF by default */
    .signup-btn {
      border: 2px solid #4f46e5;
      color: #4f46e5;
      background: transparent;
    }
    .signup-btn:hover::before {
      opacity: 1;
    }
    .signup-btn:hover {
      color: #fff;
      border-color: transparent;
    }

    /* Login = ON by default */
    .login-btn {
      border: 2px solid #06b6d4;
      color: white;
      background: linear-gradient(90deg, #06b6d4, #4f46e5);
      box-shadow: 0 0 10px rgba(79,70,229,0.5);
    }
    .login-btn:hover {
      background: transparent;
      color: #06b6d4;
      border-color: #06b6d4;
      box-shadow: 0 0 15px rgba(6,182,212,0.6);
    }

    /* Mobile collapse background */
    @media (max-width: 991px) {
      .navbar-collapse {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        padding: 1rem;
        border-radius: 10px;
      }
      .nav-link-custom {
        color: #111 !important;
      }
      .nav-link-custom:hover {
        color: #06b6d4 !important;
      }
    }
  </style>
</body>
